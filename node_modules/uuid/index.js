function v4() {
  if (typeof crypto !== 'undefined' && typeof crypto.randomUUID === 'function') {
    return crypto.randomUUID();
  }

  const random = () => Math.floor(Math.random() * 0xffffffff).toString(16).padStart(8, '0');
  const part1 = random().slice(0, 8);
  const part2 = random().slice(0, 4);
  const part3 = ((parseInt(random().slice(0, 4), 16) & 0x0fff) | 0x4000).toString(16).padStart(4, '0');
  const part4 = ((parseInt(random().slice(0, 4), 16) & 0x3fff) | 0x8000).toString(16).padStart(4, '0');
  const part5 = random().slice(0, 12);
  return `${part1}-${part2}-${part3}-${part4}-${part5}`;
}

module.exports = {
  v4
};

module.exports.v4 = v4;
module.exports.default = { v4 };
